<script setup>

defineProps(['cell'])
defineEmits(['reveal', 'flag'])
</script>

<template>
    <button
        class="w-10 h-10 outline outline-1 outline-slate-300 transition-colors duration-150"
        :class="{
            'bg-slate-200 hover:bg-slate-50': ! cell.is_revealed,
            'bg-white': cell.is_revealed || cell.is_flag,
        }"
        @click="$emit('reveal')"
        @contextmenu.prevent="$emit('flag')"
    >
        <svg v-if="cell.is_flag" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.75 1C6.16421 1 6.5 1.33579 6.5 1.75V3.6L8.22067 3.25587C9.8712 2.92576 11.5821 3.08284 13.1449 3.70797L13.3486 3.78943C14.9097 4.41389 16.628 4.53051 18.2592 4.1227C19.0165 3.93339 19.75 4.50613 19.75 5.28669V12.6537C19.75 13.298 19.3115 13.8596 18.6864 14.0159L18.472 14.0695C16.7024 14.5119 14.8385 14.3854 13.1449 13.708C11.5821 13.0828 9.8712 12.9258 8.22067 13.2559L6.5 13.6V21.75C6.5 22.1642 6.16421 22.5 5.75 22.5C5.33579 22.5 5 22.1642 5 21.75V1.75C5 1.33579 5.33579 1 5.75 1Z" fill="#1C274C"/>
        </svg>
        <span v-else-if="cell.is_revealed">
            <svg v-if="cell.is_mine" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.9811 2.35316C18.1668 1.88228 18.8332 1.88228 19.0189 2.35316L19.6733 4.01242C19.73 4.15618 19.8438 4.26998 19.9876 4.32668L21.6468 4.98108C22.1177 5.16679 22.1177 5.83321 21.6468 6.01892L19.9876 6.67332C19.8438 6.73002 19.73 6.84382 19.6733 6.98758L19.0189 8.64684C18.8332 9.11772 18.1668 9.11772 17.9811 8.64684L17.3267 6.98758C17.27 6.84382 17.1562 6.73002 17.0124 6.67332L15.3532 6.01892C14.8823 5.83321 14.8823 5.16679 15.3532 4.98108L17.0124 4.32668C17.1562 4.26998 17.27 4.15618 17.3267 4.01242L17.9811 2.35316Z" fill="#1C274C"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17 14.5C17 18.6421 13.6421 22 9.5 22C5.35786 22 2 18.6421 2 14.5C2 10.3579 5.35786 7 9.5 7C13.6421 7 17 10.3579 17 14.5ZM12 16.75C12.4142 16.75 12.75 16.4142 12.75 16C12.75 15.5858 12.4142 15.25 12 15.25H10C9.58579 15.25 9.25 15.5858 9.25 16C9.25 16.4142 9.58579 16.75 10 16.75H12ZM14 12.5C14 13.3284 13.5523 14 13 14C12.4477 14 12 13.3284 12 12.5C12 11.6716 12.4477 11 13 11C13.5523 11 14 11.6716 14 12.5ZM9 14C9.55228 14 10 13.3284 10 12.5C10 11.6716 9.55228 11 9 11C8.44772 11 8 11.6716 8 12.5C8 13.3284 8.44772 14 9 14Z" fill="#1C274C"/>
                <path d="M16.7669 8.29386L16.0175 9.04328C15.6957 8.6594 15.3407 8.30436 14.9568 7.98261L15.7063 7.23315L16.4669 7.53312L16.7669 8.29386Z" fill="#1C274C"/>
            </svg>
            <span v-else v-text="cell.value"></span>
        </span>
    </button>
</template>

<style scoped>

</style>
